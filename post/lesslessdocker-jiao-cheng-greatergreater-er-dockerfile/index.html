<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="yes" name="apple-mobile-web-app-capable" />
<meta content="black" name="apple-mobile-web-app-status-bar-style" />
<meta name="referrer" content="never">
<meta name="keywords" content="">
<meta name="description" content="欢迎访问[MyBlog]的个人博客">
<meta name="author" content="kveln">
<title>Docker 教程（二）：Dockerfile | MyBlog</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link
  href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
  rel='stylesheet' type='text/css'>
<link rel="alternate" type="application/rss+xml" title="Docker 教程（二）：Dockerfile | MyBlog » Feed"
  href="https://kangjn.github.io//atom.xml">
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/styles/androidstudio.min.css">
<link href="https://kangjn.github.io//styles/main.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/css/live2d.css">

<script>hljs.initHighlightingOnLoad();</script>

  <meta property="og:description" content="Docker 教程（二）：Dockerfile" />
  <meta property="og:url" content="https://kangjn.github.io/post/lesslessdocker-jiao-cheng-greatergreater-er-dockerfile/" />
  <meta property="og:locale" content="zh-CN" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="MyBlog" />
  <!-- <script src="../assets/styles/scripts/tocScript.js"></script> -->
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="https://kangjn.github.io/">MyBlog</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
        <li class="nav-item">
          
          <a class="nav-link" href="/">首页</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/archives">归档</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/tags">标签</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/about">关于</a>
          
        </li>
        
        <li class="nav-item">
          <div class="gridea-search-container">
            <form id="gridea-search-form" style="position: relative" data-update="1625108708330"
              action="/search/index.html">
              <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
              <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
  <!-- Page Header -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="https://kangjn.github.io/">MyBlog</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
        <li class="nav-item">
          
          <a class="nav-link" href="/">首页</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/archives">归档</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/tags">标签</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/about">关于</a>
          
        </li>
        
        <li class="nav-item">
          <div class="gridea-search-container">
            <form id="gridea-search-form" style="position: relative" data-update="1625108708330"
              action="/search/index.html">
              <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
              <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
<header class="masthead" style="background-image: url('https://kangjn.github.io//media/images/home-bg.jpg')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        
          <!-- 没Title为其他页面Header -->
          
            <!-- 没Title并且有headerType为Post：文章Header -->
            <div class="post-heading">
              <span class="tags">
                
                <a href="https://kangjn.github.io/tag/xyYfRRBrB/" class="tag">docker</a>
                
              </span>
              <h1>Docker 教程（二）：Dockerfile</h1>
              <span class="meta">
                Posted on
                2021.04.21，11 min read
              </span>
            </div>
          
        
      </div>
    </div>
  </div>
</header>
  <!-- Post Content -->
  <article id="post-content-article">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto post-content-container">
          
          <p>Dockerfile包含一组关于如何构建Docker镜像的说明，通过<code>docker build</code>命令执行Dockerfile文件，可以构建一个Docker镜像，本文介绍了如何编写Dockerfile文件以及构建一个Docker镜像。</p>
<h2 id="dockerfile的好处">Dockerfile的好处</h2>
<p>Dockerfile文件以书面形式说明了如何构建一个Docker镜像，Docker镜像通常包含如下内容：</p>
<ul>
<li>首先需要一个基本的Docker镜像，在这个基础Docker镜像上构建自己的Docker镜像。</li>
<li>一组需要安装在Docker镜像中的工具和应用。</li>
<li>一组需要复制到Docker镜像中的文件（比如配置文件）。</li>
<li>可能需要在防火墙中打开的网络（TPC/UDP）端口或其他。</li>
<li>等等。。。</li>
</ul>
<p>首先，在Dockerfile文件中以书面形式说明这些，就意味着，我们不用特意记住应用程序如何安装，包括操作系统什么要求、需要安装的应用程序、需要赋值的文件、需要打开的网络端口等，这些内容都被记录在Dockerfile中。</p>
<p>另外，通过Dockerfile文件构建Docker镜像，我们不需要手动执行这些繁琐重复且容易出错的工作。Docker会自动做这些事情，简单、快速、且不容易出错。</p>
<p>第三，我们很容易和其他人分享Dockerfile文件，并且他们可以自己构建Docker镜像。</p>
<p>第四，Dockerfile很容易存储在Git这样的版本控制器中，这样就可以跟踪Dockerfile（服务器、应用配置）的变更记录。版本控制器也可以很容易的让人们协同合作，比如在Dockerfile上，以及分享Dockerfile。</p>
<h2 id="dockerfile的结构">Dockerfile的结构</h2>
<p>Dockerfile包含一组指令，每个指令有一个命令和参数组成，类似于命令行可执行文件。下面是一个Dockerfile简单示例：</p>
<pre><code class="language-dockerfile"># 基础镜像
FROM ubuntu:latest

# 这里可以有更多安装软件和复制文件到镜像中的说明。
COPY    /myapp/target/myapp.jar    /myapp/myapp.jar

# 在Docker容器中执行的命令。
CMD echo Starting Docker Container
</code></pre>
<h2 id="docker基础镜像">Docker基础镜像</h2>
<p>Docker镜像是由层组成，每一层都会为最终的Docker镜像添加一些内容。每一个层实际上都是一个单独的Docker镜像，所以说，Docker镜像是由一个或多个层镜像组成，我们可以在其上添加自己的层。</p>
<p>当通过Dockerfile文件指定自己的Docker镜像时，通常是从一个Docker基础镜像开始。这是另一个Docker镜像，可以在其上构建自己的Docker镜像。这个Docker基础镜像本身可能也包含多个层，并且是基于另一个基础镜像构建的。</p>
<p>我们可以使用<code>From</code>命令在Dockerfile文件中指定Docker镜像作为基础镜像，如下节所述。</p>
<h2 id="maintainer">MAINTAINER</h2>
<p><code>MAINTAINER</code>命令用于说明谁在维护这个Dockerfile文件。比如：</p>
<pre><code class="language-dockerfile">MAINTAINER   Joe Blocks &lt;joe@blocks.com&gt;
</code></pre>
<p><code>MAINTAINER</code>命令并不常用，因为这类信息在Git存储或其他地方有了。</p>
<h2 id="from">FROM</h2>
<p><code>FROM</code>命令用于指定Docker基础镜像，如果是从原始Linux镜像开始，可以使用如下命令：</p>
<pre><code class="language-dockerfile"># 基础镜像
FROM ubuntu:latest
</code></pre>
<h2 id="cmd">CMD</h2>
<p><code>CMD</code>命令用于指定启动Docker容器是需要执行的命令，该容器是基于此Dockerfile构建的Docker镜像，下面是一些Dockerfile的<code>CMD</code>示例：</p>
<pre><code class="language-dockerfile">CMD echo Docker container started.
</code></pre>
<p>本例是打印“Docker container started”这行文本。</p>
<p>下一个<code>CMD</code>示例是启动一个java应用：</p>
<pre><code class="language-dockerfile">CMD java -cp /myapp/myapp.jar com.jenkov.myapp.MainClass arg1 arg2 arg3
</code></pre>
<h2 id="copy">COPY</h2>
<p><code>COPY</code>命令将一个或多个文件从主机（从Dockerfile文件构建Docker镜像的机器）复制到Docker镜像中，可以复制的内容包括文件或目录，下面是一个示例：</p>
<pre><code class="language-dockerfile">COPY    /myapp/target/myapp.jar    /myapp/myapp.jar
</code></pre>
<p>这个例子是把主机的/myapp/target/myapp.jar文件复制到Docker进行中的/myapp/myapp.jar文件。第一个参数是主机路径（从哪里来），第二个参数是Docker镜像的路径（到哪里去）。</p>
<p>我们还可以复制一个目录到Docker镜像中，比如：</p>
<pre><code class="language-dockerfile">COPY    /myapp/config/prod    /myapp/config
</code></pre>
<p>这个例子是把主机的/myapp/config/prod目录复制到Docker镜像中的/myapp/config目录。</p>
<p>我们还可以复制多个文件到Docker镜像中的一个目录中，比如：</p>
<pre><code class="language-dockerfile">COPY    /myapp/config/prod/conf1.cfg   /myapp/config/prod/conf2.cfg   /myapp/config/
</code></pre>
<p>这个例子是将主机的/myapp/config/prod/conf1.cfg文件和/myapp/conig/prod/conf2.cfg文件复制到Docker镜像中的/myapp/config/目录中。注意，目标目录必须以/（斜杠）结束才能工作。</p>
<h2 id="add">ADD</h2>
<p><code>ADD</code>命令与<code>COPY</code>命令工作方式相同，只有一些细微的差别：</p>
<ul>
<li><code>ADD</code>命令可以复制并提取TAR文件到Docker镜像中。</li>
<li><code>ADD</code>命令可以通过HTTP下载文件，并复制到Docker镜像中。</li>
</ul>
<p>下是一些示例：</p>
<pre><code class="language-dockerfile">ADD    myapp.tar    /myapp/
</code></pre>
<p>这个例子是将指定的TAR文件解压缩并提取到Docker镜像的/myapp/目录中。</p>
<p>下面是另一个例子：</p>
<pre><code class="language-dockerfile">ADD    http://jenkov.com/myapp.jar    /myapp/
</code></pre>
<h2 id="env">ENV</h2>
<p><code>ENV</code>命令是在Docker镜像中设置环境变量，此环境变量可用于<code>CMD</code>命令在Docker镜像内部启动应用程序。举个例子：</p>
<pre><code class="language-dockerfile">ENV    MY_VAR   123
</code></pre>
<p>本例将环境变量<code>MY_VAR</code>设置为值123。</p>
<h2 id="run">RUN</h2>
<p><code>RUN</code>可以在Docker镜像中执行命令行指令，执行时机是Docker镜像构建过程中，所以<code>RUN</code>命令只会执行一次。<code>RUN</code>命令可用于在Docker镜像中安装应用程序、提取文件或其他命令行功能，这些操作只需要执行一次，以供Docker镜像后续使用。</p>
<pre><code class="language-dockerfile">RUN apt-get install some-needed-app
</code></pre>
<h2 id="arg">ARG</h2>
<p><code>ARG</code>命令允许定义一个参数，这个参数可以在通过Dockerfile文件构建Docker镜像时，通过命令参数传递给Docker。比如：</p>
<pre><code class="language-dockerfile">ARG tcpPort
</code></pre>
<p>当执行<code>docker build</code>命令执行Dockerfile构建Docker镜像时，可以指定<code>tcpPort</code>参数，比如：</p>
<pre><code class="language-dockerfile">docker build --build-arg tcpPort=8080 .
</code></pre>
<blockquote>
<p>注意，<code>--build-arg</code>后面的<code>tcpPort=8080</code>，是将<code>tcpPort</code>参数的值设置为8080。</p>
</blockquote>
<p>我们可以通过多个<code>ARG</code>命令定义多个参数，举个例子：</p>
<pre><code class="language-dockerfile">ARG tcpPort
ARG useTls
</code></pre>
<p>当构建Docker镜像时，必须为所有构建参数提供值。【译者注，1.13版本之前，不提供值会直接报错，1.13版本之后，不提供值不会报错，但是会弹出警告】。举个例子：</p>
<pre><code class="language-dockerfile">docker build --build-arg tcpPort=8080 --build-arg useTls=true .
</code></pre>
<p>我们可以为<code>ARG</code>设置默认值，当构建Docker镜像时，如果没有指定参数值，将使用默认值。举个例子：</p>
<pre><code class="language-dockerfile">ARG tcpPort=8080
ARG useTls=true
</code></pre>
<p>如果<code>tcpPort</code>和<code>useTls</code>在生成Docker镜像时，都没有设置参数，将使用默认值8080和true。</p>
<p><code>ARG</code>声明的参数通常在Dockerfile的其他地方引用，比如：</p>
<pre><code class="language-dockerfile">ARG tcpPort=8080
ARG useTls=true

CMD start-my-server.sh -port ${tcpPort} -tls ${useTls}
</code></pre>
<blockquote>
<p>注意：两个引用<code>${tcpPort}</code>和<code>${useTls}</code>，引用名是<code>tcpPort</code>和<code>useTls</code>这两个<code>ARG</code>声明的参数。</p>
</blockquote>
<pre><code class="language-dockerfile">docker build --build-arg tcpPort=8080
</code></pre>
<h2 id="workdir">WORKDIR</h2>
<p><code>WORKDIR</code>命令指明了Docker镜像中的工作目录，工作目录将对<code>WORKDIR</code>指令之后的所有命令生效，举个例子：</p>
<pre><code class="language-dockerfile">WORKDIR    /java/jdk/bin
</code></pre>
<h2 id="expose">EXPOSE</h2>
<p><code>EXPOSE</code>命令将对外开放Docker容器中的网络端口，比如，如果Docker容器运行一个web服务器，那么，该web服务器可能需要打开端口80，以便客户端链接到它。举个例子：</p>
<pre><code class="language-dockerfile">EXPOSE   8080
</code></pre>
<p>我们还可以指明打开端口的通信协议，比如：UDP和TCP。下面是设置允许通信协议的示例：</p>
<pre><code class="language-dockerfile">EXPOSE   8080/tcp 9999/udp
</code></pre>
<p>如果没有指定协议，将默认认定为TCP协议。</p>
<h2 id="volume">VOLUME</h2>
<p><code>VOLUME</code>命令会在Docker镜像中创建一个目录，这个目录可以挂载到Docker主机上。换句话说，可以在Docker镜像中创建目录，比如<code>/data</code>，这个目录可以在稍后挂载到Docker主机的<code>/container-data/container1</code>目录上。挂载成功后，容器会启动。下面是一个使用<code>VOLUME</code>命令在Dockerfile中定义装载目录的示例：</p>
<pre><code class="language-dockerfile">VOLUME   /data
</code></pre>
<h2 id="entrypoint">ENTRYPOINT</h2>
<p><code>ENTRYPOINT</code>命令为从该Docker镜像启动Docker容器提供入口点，入口点是Docker容器启动时执行的应用程序或命令。这样，<code>ENTRYPOINT</code>和<code>CMD</code>工作方式类似，不同之处在于，使用<code>ENTRYPOINT</code>时，当<code>ENTRYPOINT</code>执行的应用程序完成时，Docker容器将关闭。因此，<code>ENTRYPOINT</code>使Docker镜像本身成为一个可执行命令，可以启动，完成后关闭。以下是<code>ENTRYPOINT</code>示例：</p>
<pre><code class="language-dockerfile">ENTRYPOINT java -cp /apps/myapp/myapp.jar com.jenkov.myapp.Main
</code></pre>
<p>这个示例将在容器启动时执行Java应用程序的主类<code>com.jenkov.myapp.Main</code>，当应用程序关闭时，Docker容器也会关闭。</p>
<h2 id="healthcheck">HEALTHCHECK</h2>
<p><code>HEALTHCHECK</code>命令可以定期执行健康检查，以监视Docker容器中运行的应用程序的运行状况。如果命令返回0，Docker将认为应用程序和容器正常，如果命令返回1，Docker会认为应用程序和容器不正常。示例如下：</p>
<pre><code class="language-dockerfile">HEALTHCHECK java -cp /apps/myapp/healthcheck.jar com.jenkov.myapp.HealthCheck https://localhost/healthcheck
</code></pre>
<p>这个示例中使用了java应用程序的<code>com.jenkov.myapp.HealthCheck</code>作为健康检查的命令，我们可以使用任何有意义的健康检查命令。</p>
<h3 id="健康检查间隔时间">健康检查间隔时间</h3>
<p>默认情况下，Docker每30秒执行一次<code>HEALTHCHECK</code>命令。如果想修改时间间隔，我们可以自定义时间，通过<code>--interval</code>参数，可以指定健康检查的检查间隔时间。下面是一个将<code>HEALTHCHECK</code>间隔设置为60秒的示例：</p>
<pre><code class="language-dockerfile">HEALTHCHECK --interval=60s java -cp /apps/myapp/healthcheck.jar com.jenkov.myapp.HealthCheck https://localhost/healthcheck
</code></pre>
<h3 id="健康检查开始时间">健康检查开始时间</h3>
<p>默认情况下，Docker会立即检查Docker容器的监控状况。但是，有些应用程序可能需要一段时间启动，因此，只有经过某段时间后再进行健康检查才有意义。我们可以使用<code>--start-period</code>参数设置健康检查开始时间。下面是一个将健康检查设置为5分钟的示例，在Docker开始健康检查之前，为容器和应用程序提供300秒（5分钟）的启动时间：</p>
<pre><code class="language-dockerfile">HEALTHCHECK --start-period=300s java -cp /apps/myapp/healthcheck.jar com.jenkov.myapp.HealthCheck https://localhost/healthcheck
</code></pre>
<h3 id="健康检查超时时间">健康检查超时时间</h3>
<p>健康检查很有可能超时，如果<code>HEALTCHECK</code>命令需要超过给定时间限制才完成，Docker将认为健康检查超时。可以使用<code>--timeout</code>参数设置超时时间，如下是设置超时时间为5秒的示例：</p>
<pre><code class="language-dockerfile">HEALTHCHECK --timeout=5s java -cp /apps/myapp/healthcheck.jar com.jenkov.myapp.HealthCheck https://localhost/healthcheck
</code></pre>
<blockquote>
<p>注意，如果健康检查超时，Docker也会认为容器不健康。</p>
</blockquote>
<h3 id="健康检查重复次数">健康检查重复次数</h3>
<p>如果<code>HEALTHCHECK</code>命令执行失败，有可能是结果返回1，或者执行超时，Docker会在认定容器不健康前，重试3次<code>HEALTHCHECK</code>命令，用于检查Docker容器是否返回健康状态。可以通过<code>--retries</code>设置重试次数。下面是将重试次数设置为5的示例：</p>
<pre><code class="language-dockerfile">HEALTHCHECK --retries=5 java -cp /apps/myapp/healthcheck.jar com.jenkov.myapp.HealthCheck https://local
</code></pre>

          <div class="toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#dockerfile%E7%9A%84%E5%A5%BD%E5%A4%84">Dockerfile的好处</a></li>
<li><a href="#dockerfile%E7%9A%84%E7%BB%93%E6%9E%84">Dockerfile的结构</a></li>
<li><a href="#docker%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F">Docker基础镜像</a></li>
<li><a href="#maintainer">MAINTAINER</a></li>
<li><a href="#from">FROM</a></li>
<li><a href="#cmd">CMD</a></li>
<li><a href="#copy">COPY</a></li>
<li><a href="#add">ADD</a></li>
<li><a href="#env">ENV</a></li>
<li><a href="#run">RUN</a></li>
<li><a href="#arg">ARG</a></li>
<li><a href="#workdir">WORKDIR</a></li>
<li><a href="#expose">EXPOSE</a></li>
<li><a href="#volume">VOLUME</a></li>
<li><a href="#entrypoint">ENTRYPOINT</a></li>
<li><a href="#healthcheck">HEALTHCHECK</a>
<ul>
<li><a href="#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4">健康检查间隔时间</a></li>
<li><a href="#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E5%BC%80%E5%A7%8B%E6%97%B6%E9%97%B4">健康检查开始时间</a></li>
<li><a href="#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4">健康检查超时时间</a></li>
<li><a href="#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%E9%87%8D%E5%A4%8D%E6%AC%A1%E6%95%B0">健康检查重复次数</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
          
          <hr />
          <p class="next-post">下一篇：
            <a href="https://kangjn.github.io/post/docker-jiao-cheng-yi-docker-shi-shi-me/">
              <span class="post-title">
                Docker 教程（一）：Docker 是什么&rarr;
              </span>
            </a>
          </p>
          
          <div class="comment" style="text-align: center;">
            

            
            
          </div>
        </div>
      </div>
  </article>
  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <!-- <li class="list-inline-item">
              <a href="https://kangjn.github.io//atom.xml" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              </li> -->
          </ul>
          <p class="copyright text-muted">Copyright &copy;<span>MyBlog</span><br><a href="https://github.com/getgridea/gridea" class="Themeinfo">Powered by Gridea</a></p>
        </div>
      </div>
    </div>
   </footer>
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
  <!-- <script src="https://kangjn.github.io//media/scripts/bootstrap.bundle.min.js"></script> -->
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.jsdelivr.net/gh/Alanrk/clean-cdn@1.0/scripts/clean-blog.min.js"></script>
  <!-- <script src="https://kangjn.github.io//media/scripts/clean-blog.min.js"></script> -->
  <script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
  <style type="text/css">a.back_to_top{text-decoration:none;position:fixed;bottom:40px;right:30px;background:#f0f0f0;height:40px;width:40px;border-radius:50%;line-height:36px;font-size:18px;text-align:center;transition-duration:.5s;transition-propety:background-color;display:none}a.back_to_top span{color:#888}a.back_to_top:hover{cursor:pointer;background:#dfdfdf}a.back_to_top:hover span{color:#555}@media print,screen and(max-width:580px){.back_to_top{display:none!important}}</style>
<a id="back_to_top" href="#" class="back_to_top">
  <span>▲</span></a>
<script>$(document).ready((function(_this) {
    return function() {
      var bt;
      bt = $('#back_to_top');
      if ($(document).width() > 480) {
        $(window).scroll(function() {
          var st;
          st = $(window).scrollTop();
          if (st > 30) {
            return bt.css('display', 'block')
          } else {
            return bt.css('display', 'none')
          }
        });
        return bt.click(function() {
          $('body,html').animate({
            scrollTop: 0
          },
          800);
          return false
        })
      }
    }
  })(this));</script>
  
  <script src="https://kangjn.github.io//media/scripts/tocScript.js"></script>
</body>

</html>